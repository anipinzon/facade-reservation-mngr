version: '3'
services:
  postgresql:
    image: docker.io/bitnami/postgresql:11
    container_name: postgresql
    volumes:
      - postgresql_data:/bitnami/postgresql
    environment:
      - POSTGRESQL_USERNAME=kong
      - POSTGRESQL_PASSWORD=bitnami
      - POSTGRESQL_DATABASE=kong
    networks:
      - rentail-application
  kong:
    image: docker.io/bitnami/kong:2
    container_name: kong
    ports:
      - 8000:8000
      - 8443:8443
    environment:
      - KONG_MIGRATE=yes
      - KONG_PG_HOST=postgresql
      - KONG_PG_PASSWORD=bitnami
    networks:
      - rentail-application
  reservation:
    container_name: reservation
    image: amazoncorretto:11-alpine-jdk  
    ports:
      - 8080:8080
      
        
volumes:
  postgresql_data:
    driver: local
networks:
    rentail-application:
        driver: bridge